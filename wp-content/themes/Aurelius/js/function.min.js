function getCookie(e){var o="",t="xy_"+e+"=";return document.cookie.length>0&&(offset=document.cookie.indexOf(t),offset!=-1&&(offset+=t.length,end=document.cookie.indexOf(";",offset),end==-1&&(end=document.cookie.length),o=unescape(document.cookie.substring(offset,end)))),o}function setCookie(e,o,t){var n="";null!=t&&(n=new Date((new Date).getTime()+36e5*t),n="; expires="+n.toGMTString()),document.cookie="xy_"+e+"="+escape(o)+n+"domain=;path=/;"}function delParam(e,o){var t=e.substr(e.indexOf("?")+1),n=e.substr(0,e.indexOf("?")),i="",r=new Array;if(""!=t)for(var a=t.split("&"),s=0;s<a.length;s++){var u=a[s].split("=");u[0]!=o&&r.push(a[s])}return r.length>0&&(i="?"+r.join("&")),e=n+i}function rebuildGameURL(e){if(xyou.token)location.href=e;else if(xyou.isWeixin())redirectWeixin(e);else if(xyou.isQQ())redirectQQ(e);else if(xyou.isWeibo())redirectWeibo(e);else{var o=PageConfig.h5Url+"/user/login?redirectUri="+encodeURIComponent(e);o=xyou.buildURL(o),location.href=o}}function redirectWeixin(e){location.href=PageConfig.h5Url+"/user/OAuth/sign/open?redirect="+encodeURIComponent(e?e:location.href)}function redirectQQ(e){location.href=PageConfig.h5Url+"/user/OAuth/sign/login/type/QqOAuth?redirect="+encodeURIComponent(e?e:location.href)}function redirectWeibo(e){location.href=PageConfig.h5Url+"/user/OAuth/sign/login/type/SinaOAuth?redirect="+encodeURIComponent(e?e:location.href)}var myApp=new Framework7({cache:!1,router:!1,modalTitle:"XYOU",modalButtonOk:"确定",modalButtonCancel:"取消",modalPreloaderTitle:"正在加载中..."}),$$=Dom7,regExp={email:/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,code:/^\d{4}$/,zipcode:/^[0-9]{6}$/,mobilephone:/^1[3-9][0-9]{9}$/,areacode:/^\d{3,6}$/,tel:/^\d{7,8}$/,ext:/\d{3,}$/,captcha:/^\w{4}$/,username:/^[a-zA-Z][a-zA-Z0-9_\-]*$/,password:/^[a-zA-Z0-9_!@#\$%\^&\*\(\)\\\|\/\?\.\<\>'"\{\}\[\]=\-\+\~\,\;\:\s]+$/,chinese:/^[\u4e00-\u9fa5]+$/,link:/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;\+#]*[\w\-\@?^=%&amp;\+#])?/,qq:/^[1-9][0-9]{4,}$/,regPrice:/^[0-9]+([.]{1}[0-9]{1,2})?$/,positiveNum:/^[1-9]\d*$/,allNumber:/^\d+$/,allLetter:/^[a-zA-Z]+$/,symbols:/[_!@#\$%\^&\*\(\)\\\|\/\?\.\<\>'"\{\}\[\]=\-\+\~\,\;\:\s]+/,allSame:/^([\s\S])\1*$/,allLetterSame:/^([a-zA-Z])\1*$/,lowerLetter:/[a-z]+/,upperLetter:/[A-Z]+/,hasSpace:/\s/},xyouHelperTool={showTextToast:function(e,o,t){var n="undefined"==typeof t?1500:t,i=myApp.toast(e,"",t);i.show(!0),setTimeout(function(){i.hide(),"function"==typeof o&&o()},n)},showSuccessToast:function(e,o,t){var n="undefined"==typeof t?1500:t,i=myApp.toast(e,'<i class="xyou_toast xyou_toast_success"></i>',t);i.show(!0),setTimeout(function(){i.hide(),"function"==typeof o&&o()},n)},showWarningToast:function(e,o,t){var n="undefined"==typeof t?1500:t,i=myApp.toast(e,'<i class="xyou_toast xyou_toast_warning"></i>',t);i.show(!0),setTimeout(function(){i.hide(),"function"==typeof o&&o()},n)},showLoadingToast:function(e,o,t){var n="undefined"==typeof t?1500:t,i=myApp.toast(e,'<i class="xyou_toast xyou_toast_loading"></i>',t);i.show(!0),setTimeout(function(){i.hide(),"function"==typeof o&&o()},n)}},ajaxPageList={currentPage:1,totalPage:null,requestUrl:null,requestData:null,requestMethod:"GET",compiledListTemplate:null,listWrapperObj:null,load:!1,lastIndex:0,maxRowsNum:0,init:function(e,o){this.requestUrl=e,this.requestData=o,this.lastIndex=0,this.currentPage=1,this.maxRowsNum=0},requestListData:function(e,o,t,n){$$.ajax({cache:!1,dataType:"json",url:this.requestUrl+"?Page="+this.currentPage,method:this.requestMethod,timeout:0,data:this.requestData,beforeSend:function(o){"function"==typeof e&&e()},error:function(e,o){"function"==typeof t&&t()},success:function(e,t,n){"function"==typeof o&&o(e)},complete:function(e,o){"function"==typeof n&&n()}})},requestNextListData:function(e,o,t){$$(e).scroll(function(){var e=$$(this),n=e[0].scrollTop,i=e[0].offsetHeight,r=e[0].scrollHeight,a=50;n+i>=r-a&&!o.load&&o.lastIndex<o.maxRowsNum&&"function"==typeof t&&t()})}},xyou=window.XYOU||{};xyou.token=null,xyou.uid=null,xyou.loginType=null,xyou.isFocus=!1,xyou.init=function(){if(xyou.token=xyou.getURLVar("token"),xyou.token&&"undefined"!=typeof xyou.token&&(xyou.setItem("token",xyou.token),location.href=delParam(location.href,"token")),xyou.isWeixin()){var e=xyou.getURLVar("access");e&&"undefined"!=typeof e&&xyou.setItem("wxkey",e)}else if(xyou.isQQ()){var o=xyou.getURLVar("access");o&&"undefined"!=typeof o&&xyou.setItem("qqkey",o)}else if(xyou.isWeibo()){var t=xyou.getURLVar("access");t&&"undefined"!=typeof t&&xyou.setItem("wbkey",t)}},xyou.isQQ=function(){return"qq"==navigator.userAgent.toLowerCase().match(/\bqq\b/i)},xyou.isWeixin=function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},xyou.isWeibo=function(){return"weibo"==navigator.userAgent.toLowerCase().match(/weibo/i)},xyou.isAndroid=function(){return navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Linux")>-1},xyou.isiOS=function(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},xyou.isPCWeixin=function(){return"windowswechat"==navigator.userAgent.toLowerCase().match(/WindowsWechat/i)},xyou.isMobile=function(){for(var e=navigator.userAgent.toLowerCase(),o=["android","iphone","symbianos","windows phone","ipad","ipod"],t=0;t<o.length;t++)if(e.indexOf(o[t])>0)return!0;return!1},xyou.isXYOUAPP=function(){return"xyouapp"==navigator.userAgent.toLowerCase().match(/xyouapp/i)},xyou.isZhuanKeAPP=function(){return"zhuanke"==navigator.userAgent.toLowerCase().match(/zhuanke/i)},xyou.loadSingleScript=function(e,o){var t=document.createElement("script");t.src=e,t.hasOwnProperty("async")&&(t.async=!1),t.addEventListener("load",function(){this.removeEventListener("load",arguments.callee,!1),o&&o()},!1),document.body.appendChild(t)},xyou.trim=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},xyou.preLoadImg=function(e,o){var t=new Image;t.src=e,t.onload=function(){"function"==typeof o&&o()}},xyou.getURLQuery=function(e){var o={};if(e){var t=e.split("?")[1];if(t)for(var n=t.split("&"),i=0;i<n.length;i++)o[n[i].split("=")[0]]=unescape(n[i].split("=")[1])}return o},xyou.getURLVar=function(e){var o=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(o);return null!=t?unescape(t[2]):null},xyou.setURLVar=function(e,o,t){if(e){var n=e.split("#"),i={},r=n[0].split("?")[1],a=n[0].split("?")[0]+"?";if(r){r=r.split("&");for(var s in r){var u=r[s].split("=");i[u[0]]=u[1]}}t?i[o]=t:(i[o]=null,delete i[o]);var c=!0;for(var s in i)a+=(c?"":"&")+s+"="+(i[s]?i[s]:""),c=!1;return a+(n[1]?"#"+n[1]:"")}return""},xyou.cleanURLVar=function(e){return e?e.split("?")[0]:""},xyou.getItem=function(e){if(window.localStorage)return window.localStorage.getItem("xy_"+e);var o=document.cookie.match(new RegExp("(^| )xy_"+e+"=([^;]*)(;|$)"));return null!=o?unescape(o[2]):null},xyou.setItem=function(e,o){if(window.localStorage)window.localStorage.setItem("xy_"+e,o);else{var t=new Date;t.setTime(t.getTime()+31536e6),document.cookie="xy_"+e+"="+escape(o)+";expires="+t.toGMTString()}},xyou.removeItem=function(e){if(window.localStorage)window.localStorage.removeItem("xy_"+e);else{var o=new Date;o.setTime(o.getTime()-1);var t=sdk.getItem(e);null!=t&&(document.cookie="xy_"+e+"="+t+";expires="+o.toGMTString())}},xyou.setSession=function(e,o){window.sessionStorage&&window.sessionStorage.setItem("xy_"+e,o)},xyou.getSession=function(e){return window.sessionStorage?window.sessionStorage.getItem("xy_"+e):null},xyou.removeSession=function(e){window.sessionStorage&&window.sessionStorage.removeItem("xy_"+e)},xyou.buildURL=function(e,o){if(e){var t=e.split("#"),n={},i=t[0].split("?")[1],r=t[0].split("?")[0]+"?";if(i){i=i.split("&");for(var a in i){var s=i[a].split("=");n[s[0]]=s[1]}}for(var a in o)o[a]&&(n[a]=o[a]);var u=!0;for(var a in n)r+=(u?"":"&")+a+"="+(n[a]?n[a]:""),u=!1;return r+(t[1]?"#"+t[1]:"")}return""},xyou.clearInput=function(){$$(".input_box").on("input propertychange",function(){var e=$$(this),o=xyou.trim(e.val());o?e.siblings(".clear-input").show():e.siblings(".clear-input").hide()}).on("focus",function(){var e=$$(this),o=xyou.trim(e.val());o?e.siblings(".clear-input").show():e.siblings(".clear-input").hide()}).on("blur",function(){var e=$$(this);setTimeout(function(){e.siblings(".clear-input").hide()},200)}),$$("body").on("touchstart click",".clear-input",function(){return $$(this).siblings(".input_box").val("").focus(),!1}),function(){$$(".js-show-pwd").on("click",function(){var e=$$(this);e.hasClass("show-pwd-on")?e.removeClass("show-pwd-on").siblings(".input_box").attr("type","password"):e.addClass("show-pwd-on").siblings(".input_box").attr("type","text")})}()},xyou.httpGet=function(e,o,t){var n=null;n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n&&(n.onreadystatechange=function(){4==n.readyState&&o("json"==t?JSON.parse(n.responseText):n.responseText)},n.open("GET",e,!0),n.send())},xyou.hideSharePicker=function(){myApp.closeModal(".picker-modal.modal-in"),$$(".modal-overlay.modal-overlay-visible").remove()},xyou.popShareGuide=function(){var e=PageConfig.staticUrl+"/Assets/Images/sdk/";xyou.isiOS()?e+="share_guide_ios.png":xyou.isAndroid()?e+="share_guide_android.png":xyou.isPCWeixin()&&(e+="share_guide_pcwx.png",$$("#share-guide-pop div").css("left",0)),$$("#share-guide-pop").show().find("img").attr("src",e),$$("#share-guide-pop").on("click",function(){$$(this).hide()})},xyou.initWebViewJavascriptBridge=function(e){function o(e){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var o=document.createElement("iframe");o.style.display="none",o.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(o),setTimeout(function(){document.documentElement.removeChild(o)},0)}xyou.isXYOUAPP()&&o(function(o){e&&e(o)})};var countdown=function(e,o,t){"number"!=typeof o&&(t=o,o=60),e.data("progress",!0).addClass("button-disabled"),t(--o);var n=setInterval(function(){--o<=0&&(e.data("progress",!1).removeClass("button-disabled"),clearInterval(n),n=null),t(o)},1e3);e.data("time",n)},resetlogin=function(){var e=$$("#loginBox").scrollTop()+$$(window).height()/2;$$("#loginBox>div").css("top",e+"px")};xyou.init(),window.XYOU=xyou,xyou.token=xyou.getItem("token"),xyou.token||1!=PageConfig.auth_type||PageConfig.is_need_auth||!PageConfig.wx_expire||(xyou.isWeixin()?redirectWeixin():xyou.isQQ()?redirectQQ():xyou.isWeibo()&&redirectWeibo()),xyou.initHost=function(e){function o(){var o=document.getElementById("loading-wrap");o&&(o.style.display="none"),$$(".views").removeClass("hide");var t=$$("div.zero-ui-dialog,div.zero-ui-dialog-notice");t&&$$.each(t,function(e,o){"loading"===$$(o).attr("id")&&$$(o).hide()}),e()}function t(){checkToken(xyou.token,function(e){var e=JSON.parse(e);e.data.uid?(uid=xyou.uid=e.data.uid,xyou.loginType=e.data.login_type,o()):(xyou.removeItem("token"),(xyou.isWeixin()||xyou.isPCWeixin())&&xyou.removeItem("wxkey"),xyou.isQQ()&&xyou.removeItem("qqkey"),xyou.isWeibo()&&xyou.removeItem("wbkey"),location.reload())})}if(xyou.token)xyou.isWeixin()?PageConfig.wx_expire?t():$$.get(PageConfig.h5Url+"/api/index/act/checkAccess&s_token="+xyou.getItem("wxkey")+"&"+Date.now(),function(e){e.status?t():redirectWeixin()}):xyou.isQQ()?PageConfig.wx_expire?t():$$.get(PageConfig.h5Url+"/api/index/act/checkAccess&s_token="+xyou.getItem("qqkey")+"&"+Date.now(),function(e){e.status?t():redirectQQ()}):xyou.isWeibo()?PageConfig.wx_expire?t():$$.get(PageConfig.h5Url+"/api/index/act/checkAccess&s_token="+xyou.getItem("wbkey")+"&"+Date.now(),function(e){e.status?t():redirectWeibo()}):t();else if(xyou.isWeixin())redirectWeixin();else if(xyou.isQQ())redirectQQ();else if(xyou.isWeibo())redirectWeibo();else{var n=xyou.getURLQuery(location.href);if(!n.redirectUri){xyou.removeItem("token");var i=PageConfig.h5Url+"/user/login?redirectUri="+encodeURIComponent(location.href);i=xyou.buildURL(i),location.href=i}}};var checkToken=function(e,o){$$.get(PageConfig.h5Url+"/api/index/sdk/checkToken&token="+e+"&"+Date.now(),function(e){o(e)},"json")};